---
title: 정수 오버플로우 취약점 이해 - 예시와 방지 방법
categories: [Hacking, Theory]
tags: [Hacking, System hacking]
date: 2023-08-20 23:08:00 +0900
---
정수 오버플로우(Integer Overflow)는 프로그램에서 사용되는 정수 데이터 타입의 최댓값을 초과하여 발생하는 보안 취약점입니다. 이번 글에서는 정수 오버플로우의 개념을 자세히 설명하고, 실제 예시를 통해 그 작동 원리와 방지 방법을 알아보겠습니다.

## 정수 오버플로우란?

정수 오버플로우는 컴퓨터에서 사용되는 정수 데이터 타입의 표현 범위를 넘어서 값을 저장하려고 할 때 발생합니다. 예를 들어, 부호 있는 32비트 정수(int)의 최댓값인 2,147,483,647보다 큰 값을 저장하려고 하면, 이 값은 최솟값인 -2,147,483,648부터 다시 시작하는 것처럼 처리됩니다. 이러한 처리 방식은 예상치 못한 결과를 초래하거나 보안 취약점을 만들 수 있습니다.

## 정수 오버플로우 예시

가정해보겠습니다. 아래의 C 코드는 사용자의 입력을 받아들이고, 입력된 숫자를 더하는 프로그램입니다.

```c
#include <stdio.h>

int main() {
    int balance = 1000;
    int deposit;

    printf("입금할 금액을 입력하세요: ");
    scanf("%d", &deposit);

    balance += deposit;

    printf("잔액: %d\n", balance);

    return 0;
}
```

이 코드에서는 `balance`라는 변수에 초기 잔액 1000을 설정하고, 사용자 입력으로 받은 `deposit` 값을 더하여 잔액을 갱신합니다. 그런데 사용자가 음수 값을 입력한다면 어떻게 될까요?

사용자 입력: -2000

이 입력은 음수 값을 더하여 `balance`의 값이 1000 - 2000 = -1000으로 변경됩니다. 이는 정상적인 은행 계좌 동작과는 다르며, 잔액이 예상치 못한 값으로 표시됩니다.

## 정수 오버플로우 방지 방법

정수 오버플로우를 방지하기 위해서는 다음과 같은 방법을 고려해야 합니다.

1. **입력 유효성 검사**: 사용자 입력을 받을 때 입력 값의 범위를 검사하여 유효한 값만 처리하도록 합니다.

2. **데이터 타입 변경**: 더 큰 정수 데이터 타입을 사용하거나, 부호 없는 데이터 타입을 사용하여 정수 오버플로우를 줄일 수 있습니다.

3. **범위 체크**: 연산을 수행하기 전에 결과가 허용 범위 내에 있는지 확인하여 오버플로우를 방지할 수 있습니다.

## 결론

정수 오버플로우는 예상치 못한 결과와 보안 취약점을 유발할 수 있는 중요한 문제입니다. 프로그램에서 정수 데이터 타입을 다룰 때 항상 범위를 신중하게 고려하고, 입력 값을 검증하여 이러한 취약점을 방지해야 합니다. 안전한 정수 처리를 통해 프로그램의 안정성을 유지하며, 보안 문제를 사전에 예방할 수 있습니다.
