---
title: Buffer Overflow 취약점과 예시
categories: [Hacking, Theory]
tags: [Hacking, System hacking]
date: 2023-08-20 23:08:00 +0900
---
버퍼 오버플로우(Buffer Overflow)는 컴퓨터 보안 분야에서 가장 잘 알려진 취약점 중 하나로, 제대로 처리되지 않은 데이터 입력으로 인해 프로그램의 메모리 영역을 침범하는 공격입니다. 이번 글에서는 버퍼 오버플로우의 개념을 자세히 설명하고, 실제 예시를 통해 그 작동 원리와 피해를 확인해보겠습니다.

## 버퍼 오버플로우란?

버퍼 오버플로우는 프로그램이 사용하는 버퍼(임시 저장 공간)에 데이터를 쓸 때, 해당 버퍼의 크기를 초과하여 데이터를 쓰는 상황을 의미합니다. 이러한 공격은 공격자가 의도적으로 프로그램의 메모리 영역을 침범하고, 제어권을 획득하여 악의적인 코드를 실행하거나 시스템의 동작을 조작하는 데 이용될 수 있습니다.

## 버퍼 오버플로우 예시

가정해보겠습니다. 어떤 프로그램이 사용자의 입력을 받아들이는데, 이를 처리하기 위한 버퍼가 100바이트 크기로 할당되었습니다. 그런데 사용자는 의도적으로 150바이트 크기의 데이터를 입력한다면 어떻게 될까요?

사용자 입력: "A" * 150

여기서 "A"는 단순히 예시로 사용되는 문자입니다. 이 입력은 프로그램이 처리하는 도중에 버퍼의 끝을 초과하여 나머지 데이터가 다른 메모리 영역을 덮어쓸 수 있게 됩니다.

이 때, 공격자는 악의적인 코드를 해당 버퍼의 초과 영역에 배치하여 프로그램의 흐름을 조작할 수 있습니다. 예를 들어, 공격자는 프로그램 제어권을 탈취하여 시스템 명령을 실행하거나, 악성 코드를 주입하여 시스템에 대한 완전한 통제를 얻을 수 있습니다.

## 버퍼 오버플로우 방지 방법

버퍼 오버플로우 공격을 방지하기 위해선 몇 가지 방법이 있습니다. 일반적으로는 다음과 같은 접근 방식을 사용합니다.

1. **버퍼 크기 제한**: 프로그램이 입력을 받을 때, 정해진 크기 이상의 데이터가 들어온다면 이를 거부하거나 잘라내는 방식으로 버퍼 크기를 제한할 수 있습니다.

2. **Safe 함수 사용**: 안전한 함수를 사용하여 데이터 복사 및 문자열 조작 작업을 수행해야 합니다. 예를 들어, `strcpy` 대신 `strncpy`을 사용하면 버퍼 오버플로우의 위험을 줄일 수 있습니다.

3. **스택 보호 기법**: 스택 기반 버퍼 오버플로우를 방지하기 위해 스택 보호 기법(ASLR, DEP, Canary 등)을 적용할 수 있습니다.

## 결론

버퍼 오버플로우는 고전적인 취약점이지만 여전히 많은 시스템에서 문제가 될 수 있는 중요한 보안 이슈입니다. 프로그래머는 안전한 코드 작성을 통해 이러한 취약점을 예방하고, 보안 엔지니어는 적절한 보호 기법을 사용하여 시스템을 보호해야 합니다. 이러한 조치들을 통해 버퍼 오버플로우 공격으로부터 시스템을 안전하게 유지할 수 있습니다.
